import{c as t,j as e,o as m,X as p}from"./iframe-BeGkvnHr.js";import{s as i}from"./MediaManager.module-BIXRbq_H.js";const u=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],y=t("circle-alert",u);const g=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],x=t("grip-vertical",g);const h=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],c=t("loader-circle",h);function j({asset:r,onDelete:a,onRetry:o,isPrimary:l,dragHandleProps:s}){const n=r.status==="uploading"||r.status==="processing"||r.status==="pending",d=r.status==="error";return e.jsxs("div",{className:i.item,children:[l&&e.jsx("div",{className:i.primaryBadge,children:"HOVEDBILDE"}),r.url&&r.url!=="pending"&&(r.url.startsWith("/")||r.url.startsWith("blob:")||r.url.startsWith("http"))?e.jsx(m,{src:r.url.trim(),alt:"Preview",width:200,height:200,className:i.img,unoptimized:r.url.trim().startsWith("blob:")}):e.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#eee"},children:n?e.jsx(c,{className:"animate-spin",size:20}):e.jsx("span",{style:{fontSize:"10px",color:"#888"},children:"Ingen bilde"})}),n&&e.jsxs("div",{className:i.overlay,children:[e.jsx(c,{className:"animate-spin",size:24}),e.jsx("p",{style:{fontSize:"0.75rem",marginTop:"0.5rem"},children:r.status==="processing"?"Behandler...":`Laster opp (${r.progress??0}%)`}),e.jsx("div",{className:i.progress,children:e.jsx("div",{className:i.progressBar,style:{width:`${r.progress??0}%`}})})]}),d&&e.jsxs("div",{className:i.overlay,style:{backgroundColor:"rgba(239, 68, 68, 0.6)"},children:[e.jsx(y,{size:24}),e.jsx("p",{className:i.errorMessage,children:r.error||"Feil ved opplasting"}),e.jsx("button",{type:"button",onClick:()=>o?.(r.id),style:{marginTop:"0.5rem",fontSize:"0.75rem",textDecoration:"underline",background:"none",border:"none",color:"white",cursor:"pointer"},children:"PrÃ¸v igjen"})]}),!n&&e.jsx("button",{type:"button",className:i.deleteBtn,onClick:()=>a(r.id),"aria-label":"Slett bilde",children:e.jsx(p,{size:16})}),s&&e.jsx("div",{...s,className:i.handle,children:e.jsx(x,{size:16})})]})}j.__docgenInfo={description:"",methods:[],displayName:"MediaItem",props:{asset:{required:!0,tsType:{name:"MediaAssetUI"},description:""},onDelete:{required:!0,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},onRetry:{required:!1,tsType:{name:"signature",type:"function",raw:"(id: string) => void",signature:{arguments:[{type:{name:"string"},name:"id"}],return:{name:"void"}}},description:""},isPrimary:{required:!1,tsType:{name:"boolean"},description:""},dragHandleProps:{required:!1,tsType:{name:"Record",elements:[{name:"string"},{name:"unknown"}],raw:"Record<string, unknown>"},description:""}}};export{j as M};
